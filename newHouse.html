<!DOCTYPE html>
<html lang="en">
<head>
<title>新房</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="baidu-site-verification" content="z8EeuYl0nS" />
<meta name="keywords" content="华夏房产">
<meta name="description" content="华夏房产">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
<link href="css/basic.css" rel="stylesheet"/>
<script src="js/rem.js"></script>
<script src="js/browser.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="js/base.js" type="application/javascript"></script>
<script src="js/jquery1.8.3.js"></script>
</head>
<body style="background:#fff;">
<div id="app">
	<div class="w750 bg">
		<div style="position: fixed;top:0;background:#fff;z-index:999;width:100%;">
			<div class="search_second w710 flex" style="margin-top: 0.2rem;margin-bottom: 0.2rem;z-index:99">
			    <div class="search_right flex font28 color6 bg" style="width:100%;">
			    	<input type="" style="width:88%;" class="bg" name="" placeholder="请输入楼盘名称、附近商圈、地铁"/>
				      <div class="search_btn flex bg" style="width:12%">
				       <img src="images/search.png">
				      </div>
			    </div>
			</div>
			<div class="sort_select flex">
				<div class="sort_cont flexRowBetween">
					<div class="select_item flexRowBetween" v-for="(item,index) in menuData"  @click="tab(index)" style="width:33.33%">
						<span class="span1">{{item}}</span>
						<span class="span2" ><img src="images/up1.png"></span>
					</div>
				</div>
			</div>
		</div>
		<div class="mask" :style="isShow == 0||isShow == 1||isShow == 2?'height:100%':'height:0'">
			<div class="select_cont">
				<div class="select_box" :style="isShow == 0?'display:block':'display:none'">
					<div class="select_top flex">
						<img src="images/up2.png">
					</div>
					<div class="select_bottom">
						<div class="select_lines font30 color3">不限</div>
						<div class="select_lines font30 color3">海城区</div>
						<div class="select_lines font30 color3">海港区</div>
						<div class="select_lines font30 color3">银海区</div>
					</div>
				</div>
				<div class="select_box" :style="isShow == 1?'display:block':'display:none'">
					<div class="select_top flex">
						<img src="images/up2.png" style="left:48%">
					</div>
					<div class="select_bottom">
						<div class="select_lines font30 color3">8000</div>
						<div class="select_lines font30 color3">9000</div>
						<div class="select_lines font30 color3">15000</div>
						<div class="select_lines font30 color3">17000</div>
					</div>
				</div>
				<div class="select_box" :style="isShow == 2?'display:block':'display:none'">
					<div class="select_top flex" >
						<img src="images/up2.png"  style="left:82%">
					</div>
					<div class="select_bottom">
						<div class="select_lines font30 color3">不限</div>
						<div class="select_lines font30 color3">三室两厅</div>
						<div class="select_lines font30 color3">三室两厅</div>
						<div class="select_lines font30 color3">三室两厅</div>
					</div>
				</div>
			</div>
			<div class="house_all">
				<div class="house_list w710 flex" v-for="(item,index) in mainData"  @click="intoPath(item.id)">
					<div class="house_list_cont flex">
						<div class="house_img">
							<img :src="item.mainImg&&item.mainImg.length>0?item.mainImg[0].url:''">
						</div>
						<div class="house_right">
							<div class="flex houseName avoidOverflow" style="height:32%;">
								<h4 class="font30 color3">{{item.name}}</h4>
								<span class="font22 color9">[银海区]</span>
							</div>
							<div class="house_price font22 color6 flex avoidOverflow" style="height:24%;">
								{{item.mainLayout}}
							</div>
							<div class="house_condition color9 font24 flex avoidOverflow" style="height:24%;">
								{{item.address}}
							</div>
							<span class="font20 color">均价{{item.unitPrice}}元/m²</span>
						</div>
					</div>
				</div>
			</div>
			<div style="font-size:0.20rem;color:#666;text-align:center;">
			    技术支持:西安纯粹科技有限公司
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">      
    var app = new Vue({
        el: '#app',
        data: function() {
            return {
            	isShow:999,
            	menuData:['区域','价格','户型'],
            	mainData:[]
            }
        },
        
        created: function () {
        	const self=this;
        	self.NewHouseList();
        },

        methods:{
        	NewHouseList(){
        		const self =this;
        		var postData = {};
        		 postData = {
			       		"is_page":true,
						"currentPage":1,
						"pagesize":10,
						"searchItem":{
						//	"label":1
					}
			    };
        		console.log(111,postData);
        		var callback = (res)=>{
        			console.log(21,res);
                        self.mainData = res.data; 
                        console.log(self.mainData);
                    };
        	
        		window.base.NewHouseList(postData,callback);
        	},
        	intoPath(index){
        		const self = this;
        		console.log(index);
                const art_id = index;
                window.location.href = "./houseDetail.html?id=" + art_id;
        	},
        	tab(e){
        		const self =this;
        		if(self.isShow == e){
 					self.isShow = 999
        		}else{
        			self.isShow = e
        		}
        	}
        }
    });
            
</script>
</body>
</html>